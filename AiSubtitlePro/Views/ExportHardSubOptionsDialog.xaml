<Window x:Class="AiSubtitlePro.Views.ExportHardSubOptionsDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Export Options"
        Height="520" Width="720"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        Background="{DynamicResource MaterialDesignPaper}">

    <DockPanel Margin="20">
        <Grid DockPanel.Dock="Bottom" Margin="0,16,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Button Grid.Column="1" Content="Cancel" IsCancel="True" Width="110" Margin="0,0,10,0"
                    Style="{StaticResource MaterialDesignOutlinedButton}" />
            <Button Grid.Column="2" Content="OK" IsDefault="True" Width="110" Click="Ok_Click"
                    Style="{StaticResource MaterialDesignRaisedButton}" />
        </Grid>

        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <StackPanel>
                <TextBlock Text="Export Hard-Sub Options" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,12" />

                <GroupBox Header="Trailer" Margin="0,0,0,12">
                    <StackPanel Margin="10">
                        <CheckBox x:Name="TrailerCheck" Content="Prepend a trailer segment from this video" />

                        <Grid Margin="0,12,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Start" Foreground="Gray" VerticalAlignment="Center" Margin="0,0,10,0" />
                            <TextBox x:Name="TrailerStartBox" Grid.Row="0" Grid.Column="1" Width="120" Text="0:00:00.00" Margin="0,0,12,0" />
                            <Button x:Name="UseCurrentAsStartButton" Grid.Row="0" Grid.Column="2" Content="Use current" Width="110" Click="UseCurrentAsStart_Click" />

                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Duration" Foreground="Gray" VerticalAlignment="Center" Margin="0,8,10,0" />
                            <TextBox x:Name="TrailerDurationBox" Grid.Row="1" Grid.Column="1" Width="120" Text="0:00:05.00" Margin="0,8,12,0" />

                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Transition" Foreground="Gray" VerticalAlignment="Center" Margin="0,8,10,0" />
                            <TextBox x:Name="TrailerTransitionBox" Grid.Row="2" Grid.Column="1" Width="120" Text="0:00:01.00" Margin="0,8,12,0" ToolTip="Crossfade duration" />
                        </Grid>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Vertical Video (TikTok/Reels)" Margin="0,0,0,12">
                    <StackPanel Margin="10">
                        <CheckBox x:Name="VerticalCheck" Content="Export additional vertical video (1080x1920) with blurred background" />

                        <StackPanel Orientation="Horizontal" Margin="0,12,0,0" VerticalAlignment="Center">
                            <TextBlock Text="Blur" Width="50" VerticalAlignment="Center" Foreground="Gray" />
                            <Slider x:Name="BlurSlider" Minimum="0" Maximum="40" Value="20" Width="240" TickFrequency="5" IsSnapToTickEnabled="False" />
                            <TextBlock x:Name="BlurValueText" Text="20" Margin="12,0,0,0" Width="40" VerticalAlignment="Center" />
                        </StackPanel>

                        <TextBlock Text="Preview" Margin="0,12,0,6" Foreground="Gray" />
                        <Border BorderBrush="#C9C9C9" BorderThickness="1" CornerRadius="4" Background="#111">
                            <Grid>
                                <Image x:Name="PreviewImage" Stretch="Uniform" Height="260" />
                                <TextBlock x:Name="PreviewStatus" Text="" Foreground="White" Margin="10" VerticalAlignment="Top" />
                            </Grid>
                        </Border>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                            <Button Content="Preview" Width="110" Click="Preview_Click" Style="{StaticResource ToolButtonStyle}" />
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
    </DockPanel>
</Window>
